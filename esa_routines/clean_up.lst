%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                          S u m m a r y   R e p o r t
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Compilation
-----------
File     : /perm/ms/de/sf7/cschlund/ecflow_cc4cl_proc/src/clean_up.F90
Compiled : 12/01/14  12:52:07
Compiler : Version 8.2.7
Ftnlx    : Version 8242 (libcif 82030)
Target   : x86-64
Command  : ftn_driver.exe -hcpu=ivybridge -hdynamic -hnetwork=aries -c -Oomp
           -O3 -Oipa3 -Ovector3 -Ofp3 -Ocache3 -Oaggress -Oscalar3 -Othread3
           -hmpi1 -hflex_mp=tolerant -rom -ef -em -DWRAPPER -DDEBUG
           -I/perm/us/usc/hdfeos/include -I./
           -I/perm/ms/de/sf7/esa_cci_c_proc/software/rttov/rttov11/cray-ecmwf_pe
           rformance_parallel-dwd/include
           -J/perm/ms/de/sf7/esa_cci_c_proc/software/rttov/rttov11/cray-ecmwf_pe
           rformance_parallel-dwd/mod
           -I/perm/ms/de/sf7/esa_cci_c_proc/software/epr/epr_api-2.2/src
           -I/opt/cray/cce/8.2.7/craylibs/x86-64/include
           -I/opt/cray/rca/1.0.0-2.0502.49765.5.41.ari/include
           -I/opt/cray/alps/5.2.0-2.0502.8594.12.4.ari/include
           -I/opt/cray/xpmem/0.1-2.0502.50559.4.2.ari/include
           -I/opt/cray/gni-headers/3.0-1.0502.8554.6.6.ari/include
           -I/opt/cray/dmapp/7.0.1-1.0502.8638.9.93.ari/include
           -I/opt/cray/pmi/5.0.3-1.0000.9981.128.2.ari/include
           -I/opt/cray/ugni/5.0-1.0502.8670.4.22.ari/include
           -I/opt/cray/udreg/2.3.2-1.0502.8413.2.9.ari/include
           -I/opt/cray/krca/1.0.0-2.0502.50273.6.28.ari/include
           -I/opt/cray-hss-devel/7.1.0/include
           -I/opt/cray/wlm_detect/1.0-1.0502.48996.3.2.ari/include
           -I/opt/cray/hdf5/1.8.12/CRAY/81/include
           -I/opt/cray/netcdf/4.3.1/CRAY/81/include
           -I/opt/cray/mpt/6.3.1/gni/mpich2-cray/81/include
           -I/opt/cray/libsci/12.2.0/CRAY/81/sandybridge/include
           -I/usr/local/apps/hdf/4.2.10/CRAY/82/include
           -I/usr/local/apps/grib_api/1.12.3/CRAY/82/include64
           -I/usr/local/apps/jasper/1.900.1//include
           -I/opt/cray/rca/1.0.0-2.0502.49765.5.41.ari/include
           -I/opt/cray/alps/5.2.0-2.0502.8594.12.4.ari/include
           -I/opt/cray/xpmem/0.1-2.0502.50559.4.2.ari/include
           -I/opt/cray/gni-headers/3.0-1.0502.8554.6.6.ari/include
           -I/opt/cray/dmapp/7.0.1-1.0502.8638.9.93.ari/include
           -I/opt/cray/pmi/5.0.3-1.0000.9981.128.2.ari/include
           -I/opt/cray/ugni/5.0-1.0502.8670.4.22.ari/include
           -I/opt/cray/udreg/2.3.2-1.0502.8413.2.9.ari/include
           -I/opt/cray/wlm_detect/1.0-1.0502.48996.3.2.ari/include
           -I/opt/cray/krca/1.0.0-2.0502.50273.6.28.ari/include
           -I/opt/cray-hss-devel/7.1.0/include clean_up.F90

ftnlx report
------------
Source   : /perm/ms/de/sf7/cschlund/ecflow_cc4cl_proc/src/clean_up.F90
Date     : 12/01/2014  12:52:12


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                          O p t i o n s   R e p o r t
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Options :  -O cache3,fp3,scalar3,thread3,vector3,modinline,ipa3,aggress
           -O autoprefetch,noautothread,fusion2,nomsgs,negmsgs,nooverindex
           -O pattern,shortcircuit2,unroll2,nozeroinc
           -h mpi1,noadd_paren,align_arrays,caf,nocontiguous,nofp_trap
           -h nofunc_trace,nomessage,noomp_analyze,noomp_trace,nopat_trace
           -h safe_addr
           -h omp,noomp_acc,noacc
           -h flex_mp=tolerant
           -h cpu=x86-64,ivybridge,aries
           -s default32
           -eh
           -d acdgjnopvBDEIPQRSZ0
           -e mqswACFT
           -J perm/ms/de/sf7/esa_cci_c_proc/software/rttov/rttov11/cray-ecmwf_pe
           rformance_parallel-dwd/mod 
           -f free
           -m3
           -S /lus/TMP/JTMP/44/sf7.27694.cca-login2.20141201T102035/pe_13290/cle
           an_up_1.s


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                          S o u r c e   L i s t i n g
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


     %%%    L o o p m a r k   L e g e n d    %%%

     Primary Loop Type        Modifiers
     ------- ---- ----        ---------
     A - Pattern matched      a - atomic memory operation
                              b - blocked
     C - Collapsed            c - conditional and/or computed
     D - Deleted               
     E - Cloned                
     F - Flat - No calls      f - fused
     G - Accelerated          g - partitioned
     I - Inlined              i - interchanged
     M - Multithreaded        m - partitioned
                              n - non-blocking remote transfer
                              p - partial
                              r - unrolled
                              s - shortloop
     V - Vectorized           w - unwound

     + - More messages listed at end of listing
     ------------------------------------------


    1.     subroutine clean_up_pre(string)
    2.     
    3.       implicit none
    4.     
    5.       character(len=1024) :: string
    6.       character(len=256) :: dir
    7.       character(len=1280) :: directory
    8.     
    9.       character(len=1536) :: command_line
   10.     
   11.       integer :: cut_off
   12.       integer :: estat,cstat
   13.     
   14.       character(len=1024) :: cmsg
   15.     
   16.       dir='pre_proc'
   17.       
   18.       !get path to preprocessing results from path to driver file
   19.       cut_off=index(trim(adjustl(string)),'/',BACK=.true.)
   20.     
   21.       directory=trim(adjustl(string(1:cut_off)))//trim(adjustl(dir))
   22.       
   23.     
   24.       command_line="rm -rf "//trim(adjustl(directory))
   25.  +    call execute_command_line(trim(adjustl(command_line)),wait=.true.,exitstat=estat,cmdstat=cstat,cmdmsg=cmsg)
   26.       !  write(11,*) 'Removal of',trim(adjustl(directory)),estat,cstat,cmsg
   27.     
   28.     end subroutine clean_up_pre

ftn-3021 ftn: IPA File = clean_up.F90, Line = 25 
  "_EXECUTE_COMMAND_LINE" (called from "clean_up_pre") was not inlined because the compiler was unable to locate the routine.



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                          S o u r c e   L i s t i n g
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   29.     
   30.     
   31.     
   32.     
   33.     
   34.     subroutine clean_up_main(string)
   35.     
   36.       implicit none
   37.     
   38.       character(len=2048) :: string
   39.       character(len=256) :: dir
   40.       character(len=2304) :: directory
   41.     
   42.       character(len=2560) :: command_line
   43.     
   44.       integer :: cut_off
   45.       integer :: estat,cstat
   46.     
   47.       character(len=1024) :: cmsg
   48.     
   49.       dir='main'
   50.       
   51.       !get path to preprocessing results from path to driver file
   52.       cut_off=index(trim(adjustl(string)),'/',BACK=.true.)
   53.     
   54.       directory=trim(adjustl(string(1:cut_off)))//trim(adjustl(dir))
   55.       
   56.     
   57.       command_line="rm -rf "//trim(adjustl(directory))
   58.  +    call execute_command_line(trim(adjustl(command_line)),wait=.true.,exitstat=estat,cmdstat=cstat,cmdmsg=cmsg)
   59.       !  write(11,*) 'Removal of',trim(adjustl(directory)),estat,cstat,cmsg
   60.     
   61.     end subroutine clean_up_main

ftn-3021 ftn: IPA File = clean_up.F90, Line = 58 
  "_EXECUTE_COMMAND_LINE" (called from "clean_up_main") was not inlined because the compiler was unable to locate the routine.



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                          S o u r c e   L i s t i n g
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   62.     
   63.      
   64.      
   65.     subroutine move_post(string,instrument,platform,year,month)
   66.     
   67.       character(len=1024) :: string
   68.       character(len=15)   :: instrument,platform
   69.       character(len=1024) :: finalprimary, finalsecondary, sourceprimary
   70.       character(len=4)    :: year
   71.       character(len=5)    :: month,day,hour,min
   72.       character(len=16)   :: prefix_dummy
   73.       character(len=4)    :: suffix_dummy
   74.       character(len=11)   :: suffix_source
   75.       character(len=3)    :: suffix_target
   76.       integer             :: cut_off,cut_off_head,cut_off_tail
   77.       character(len=256)  :: dri_file
   78.       character(len=6)    :: yyyymm
   79.       character(len=2560) :: command_line
   80.       character(len=2304) :: directory
   81.       character(len=256)  :: dir
   82.       integer :: estat,cstat,i,ic
   83.       character(len=1024) :: cmsg
   84.       character(len=256) :: to_upper
   85.     
   86.       dir='post'
   87.       prefix_dummy='postproc_driver_'
   88.       suffix_dummy='.dat'
   89.       suffix_source='.primary.nc'
   90.       suffix_target='.nc'
   91.     
   92.       write(*,*) "in move_post"
   93.     
   94.       if(trim(adjustl(instrument)) .eq. 'AVHRR' .or. trim(adjustl(instrument)) .eq. 'avhrr') then
   95.     
   96.          cut_off = index(trim(adjustl(string)),'/',BACK=.true.)
   97.          directory = trim(adjustl(string(1:cut_off)))
   98.          write(*,*) cut_off,trim(directory)
   99.     
  100.          cut_off=index(trim(adjustl(string)),'/',BACK=.true.)
  101.          dri_file=trim(adjustl(string(cut_off+1:len_trim(string))))
  102.          write(*,*) cut_off,trim(adjustl(dri_file))
  103.     
  104.          yyyymm=trim(adjustl(year))//trim(adjustl(month))
  105.          write(*,*) yyyymm
  106.     
  107.          cut_off_head=verify(trim(adjustl(dri_file)),prefix_dummy)
  108.          write(*,*) cut_off_head
  109.          cut_off_tail=index(trim(adjustl(dri_file)),suffix_dummy)
  110.          write(*,*) cut_off_tail
  111.          sourceprimary = trim(adjustl(dri_file(cut_off_head:cut_off_tail-1))) // suffix_source
  112.          write(*,*) trim(sourceprimary)
  113.     
  114.          cut_off=index(trim(adjustl(dri_file)),yyyymm)
  115.          write(*,*) 'co',cut_off
  116.     
  117.          day=trim(adjustl(dri_file(cut_off+6:cut_off+7)))
  118.          write(*,*) 'day',day
  119.     
  120.          hour=trim(adjustl(dri_file(cut_off+9:cut_off+10)))
  121.          write(*,*) 'hour',hour
  122.     
  123.          min=trim(adjustl(dri_file(cut_off+11:cut_off+12)))
  124.          write(*,*) 'min',min
  125.     
  126.  +       platform = to_upper(platform)
  127.     
  128.          !command_line = "ls *" //  trim(adjustl(suffix_source)) " > delete.txt"
  129.          !call execute_command_line(trim(adjustl(command_line)),wait=.true.,exitstat=estat,cmdstat=cstat,cmdmsg=cmsg)
  130.          !open()
  131.     
  132.          ! TO DO: import file version
  133.          finalprimary = trim(yyyymm) // trim(day) // trim(hour) // trim(min) // '00-ESACCI-L2_CLOUD-CLD_PRODUCTS-' // trim(instrument) // 'GAC-' // trim(platform) // '-fv1.0' // trim(suffix_target)
  134.     
  135.          command_line = "mv -f " // trim(directory) // trim(dir) // "/" // trim(sourceprimary) // " " // trim(directory) // trim(dir) // "/" // trim(finalprimary)
  136.          !command_line="mv -f "//trim(adjustl(dri_file)) // " " // finalprimary
  137.  +       call execute_command_line(trim(adjustl(command_line)),wait=.true.,exitstat=estat,cmdstat=cstat,cmdmsg=cmsg)
  138.     
  139.       endif
  140.       !finalprimary
  141.     
  142.     
  143.       !finalfileprimary=${YEAR}${MONTHS}${DAYS}${HOUR}${MINUTE}00-ESACCI-L2_CLOUD-CLD_PRODUCTS-${INSTRUMENT}GAC-${UPLATFORM}-fv1.0.nc
  144.     
  145.       !/scratch/ms/de/sf7/esa_cci_c_proc/output/20080601_AVHRR_noaa18_proc2process_ID9621691_US1402576159/noaa18_20080601_2111_99999_satproj_00000_12208_avhrr/postproc_
  146.       !driver_noaa18_20080601_2111_99999_satproj_00000_12208_avhrr.dat
  147.       !finalfileprimary=${YEAR}${MONTHS}${DAYS}${HOUR}${MINUTE}00-ESACCI-L2_CLOUD-CLD_PRODUCTS-${INSTRUMENT}GAC-${UPLATFORM}-fv1.0.nc
  148.     
  149.       if (trim(adjustl(instrument)) .eq. 'MODIS' .or. trim(adjustl(instrument)) .eq. 'modis') then
  150.     
  151.          ! dummy = MYD021KM.A2008153.0745.006.2012068172824.bspscs_000500694484.primary.nc
  152.          ! finalfileprimary=${YEAR}${MONTHS}${DAYS}${HOUR}${MINUTE}00-ESACCI-L2_CLOUD-CLD_PRODUCTS-${INSTRUMENT}-${UPLATFORM}-fv1.0.nc
  153.     
  154.          cut_off = index(trim(adjustl(string)),'/',BACK=.true.)
  155.          directory = trim(adjustl(string(1:cut_off)))
  156.          write(*,*) cut_off,trim(directory)
  157.     
  158.          cut_off=index(trim(adjustl(string)),'/',BACK=.true.)
  159.          dri_file=trim(adjustl(string(cut_off+1:len_trim(string))))
  160.          write(*,*) cut_off,trim(adjustl(dri_file))
  161.     
  162.          yyyymm=trim(adjustl(year))//trim(adjustl(month))
  163.          write(*,*) yyyymm
  164.     
  165.          cut_off_head=verify(trim(adjustl(dri_file)),prefix_dummy)
  166.          write(*,*) cut_off_head
  167.          cut_off_tail=index(trim(adjustl(dri_file)),suffix_dummy)
  168.          write(*,*) cut_off_tail
  169.          sourceprimary = trim(adjustl(dri_file(cut_off_head:cut_off_tail-1))) // suffix_source
  170.          write(*,*) trim(sourceprimary)
  171.     
  172.          cut_off=index(trim(adjustl(dri_file)),yyyymm)
  173.          write(*,*) 'co',cut_off
  174.     
  175.          day=trim(adjustl(dri_file(cut_off+6:cut_off+7)))
  176.          write(*,*) 'day',day
  177.     
  178.          hour=trim(adjustl(dri_file(cut_off+9:cut_off+10)))
  179.          write(*,*) 'hour',hour
  180.     
  181.          min=trim(adjustl(dri_file(cut_off+11:cut_off+12)))
  182.          write(*,*) 'min',min
  183.     
  184.          !command_line = "ls *" //  trim(adjustl(suffix_source)) " > delete.txt"                                                                                          
  185.          !call execute_command_line(trim(adjustl(command_line)),wait=.true.,exitstat=estat,cmdstat=cstat,cmdmsg=cmsg)                                                     
  186.          !open()                                                                                                                                                          
  187.     
  188.          finalprimary = trim(yyyymm) // trim(day) // trim(hour) // trim(min) // & 
  189.               '00-ESACCI-L2_CLOUD-CLD_PRODUCTS-' // trim(instrument) // 'GAC-' // & 
  190.               trim(platform) // '-fv1.0' // trim(suffix_target)
  191.     
  192.          command_line = "mv -f " // trim(directory) // trim(dir) // "/" // trim(sourceprimary) // " " // trim(directory) // trim(dir) // "/" // trim(finalprimary)
  193.          !command_line="mv -f "//trim(adjustl(dri_file)) // " " // finalprimary                                                                                           
  194.  +       call execute_command_line(trim(adjustl(command_line)),wait=.true.,exitstat=estat,cmdstat=cstat,cmdmsg=cmsg)
  195.     
  196.       endif
  197.     
  198.     end subroutine move_post

ftn-3021 ftn: IPA File = clean_up.F90, Line = 126 
  "to_upper" (called from "move_post") was not inlined because the compiler was unable to locate the routine.

ftn-3021 ftn: IPA File = clean_up.F90, Line = 137 
  "_EXECUTE_COMMAND_LINE" (called from "move_post") was not inlined because the compiler was unable to locate the routine.

ftn-3021 ftn: IPA File = clean_up.F90, Line = 194 
  "_EXECUTE_COMMAND_LINE" (called from "move_post") was not inlined because the compiler was unable to locate the routine.

  199.     

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
